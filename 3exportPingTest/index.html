

<h1>HELLO!</h1>

<script src="/home/charlie/Applications/hmrc-development-environment/hmrc/blockly/blockly_compressed.js"></script>
<script src="/home/charlie/Applications/hmrc-development-environment/hmrc/blockly/blocks_compressed.js"></script>
<script src="/home/charlie/Applications/hmrc-development-environment/hmrc/blockly/msg/js/en.js"></script>
<script src="/home/charlie/Applications/hmrc-development-environment/hmrc/blockly/php_compressed.js"></script>

<script src="/home/charlie/Applications/hmrc-development-environment/hmrc/BlocklyTest/exportPingTest/pingRequest"></script>
<script src="/home/charlie/Applications/hmrc-development-environment/hmrc/BlocklyTest/exportPingTest/pingRequestGen.js"></script>

<div id="blocklyDiv" style="height: 480px; width: 600px;"></div>

<xml id="toolbox" style="display: none">
  <block type="ping"></block>
  <block type="controls_if"></block>
  <block type="controls_repeat_ext"></block>
  <block type="logic_compare"></block>
  <block type="math_number"></block>
  <block type="math_arithmetic"></block>
  <block type="text"></block>
  <block type="text_print"></block>
</xml>

<script>
  var workspacePlayground = Blockly.inject('blocklyDiv',
      {toolbox: document.getElementById('toolbox')});

  function execute() {
    var code = Blockly.PHP.workspaceToCode(workspacePlayground);

    try {
        console.log(code);
        // eval(code);
        // POST call out here to send the php code to an endpoint which in turn will save the file.
    } catch (e) {
        alert(e);
    }
    }
</script>

<button type="button" onclick="execute()">"execute that code boiii!"</button>
